<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Game Awards Voting — Firebase Material</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
:root{
  --bg:#f5f5f5;
  --card:#ffffff;
  --surface:#fafafa;
  --border:#e0e0e0;
  --text:#212121;
  --text-muted:#757575;
  --primary:#4FC3F7;
  --primary-light:#81D4FA;
  --primary-dark:#29B6F6;
  --danger:#D32F2F;
}

*{box-sizing:border-box;}
body{font-family:'Roboto','Inter',sans-serif; background:var(--bg); margin:0; color:var(--text);}
header{background:var(--primary); color:#fff; padding:16px 24px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 6px rgba(0,0,0,0.3);}
header h1{margin:0;font-size:20px;font-weight:500;}
.tabs{display:flex; gap:10px;}
.tab{background:transparent; border:0; color:#fff; padding:8px 16px; border-radius:8px; cursor:pointer; font-weight:500; transition:0.2s;}
.tab.active, .tab:hover{background:var(--primary-light);}
main{max-width:960px;margin:24px auto;padding:0 16px;}
.card{background:var(--card); border-radius:12px; padding:20px; box-shadow:0 2px 6px rgba(0,0,0,0.15); margin-bottom:20px; border:1px solid var(--border);}
h2,h3{margin:0 0 12px 0; color:var(--primary);}
label{display:block;font-size:13px;color:var(--text-muted);margin-bottom:6px;}
input[type=text], select, input[type=password]{width:100%; padding:10px; border-radius:8px; border:1px solid var(--border); background:var(--surface); color:var(--text);}
input[type=text]:focus, select:focus, input[type=password]:focus{border-color:var(--primary); outline:none;}
.row{display:flex;gap:12px;flex-wrap:wrap;}
.col{flex:1; min-width:160px;}
button{background:var(--primary); color:#fff; border:0; padding:10px 16px; border-radius:8px; cursor:pointer; font-weight:600; transition:0.2s;}
button:hover{background:var(--primary-dark);}
button.secondary{background:#757575;color:#fff;}
.small{padding:6px 10px;border-radius:8px;font-size:13px;}
.muted{color:var(--text-muted);font-size:13px;}
.category-box{border-radius:10px; padding:14px; background:var(--surface); border:1px solid var(--border); margin-bottom:12px;}
.list{margin:0;padding:0;list-style:none;}
.list li{padding:8px 6px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center;}
.danger{background:var(--danger);color:#fff;}
.nominees{margin-top:8px;}
.center{text-align:center;}
.spaced{margin-top:14px;}
.chip{display:inline-flex; align-items:center; padding:6px 12px; border-radius:20px; background:#e0f7fa; color:var(--primary-dark); margin-right:6px; margin-bottom:6px; font-weight:500;}
.chip button{background:transparent; border:none; color:#d32f2f; margin-left:6px; cursor:pointer;}
.notice{background:#e1f5fe; border:1px solid #81d4fa; padding:10px; border-radius:10px; margin-bottom:12px; color:#0277bd;}
footer{max-width:960px; margin:10px auto 40px; padding:0 16px; color:var(--text-muted); font-size:13px; text-align:center;}
b{color:var(--primary-dark);}
@media (max-width:640px){.row{flex-direction:column}.tabs{gap:4px}}
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getDatabase, ref, set, get, remove } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyD7938E45kuERRFVTKV5djhBGoqeDN29XY",
  authDomain: "game-awards-voting-d2539.firebaseapp.com",
  databaseURL: "https://game-awards-voting-d2539-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "game-awards-voting-d2539",
  storageBucket: "game-awards-voting-d2539.firebasestorage.app",
  messagingSenderId: "138398205198",
  appId: "1:138398205198:web:8ca44d0fee61f97ab7035f",
  measurementId: "G-DMH48E4BZN"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const ADMIN_PASS = 'admin123';

const appEl = document.getElementById('app');
const tabsEl = document.getElementById('top-tabs');

tabsEl.addEventListener('click', (ev)=>{
  const btn = ev.target.closest('button.tab'); if(!btn) return;
  Array.from(tabsEl.children).forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  showPage(btn.dataset.tab);
});

function escapeHtml(s){ if(!s&&s!==0) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;'); }

async function loadCategories(){ const snap=await get(ref(db,'categories')); return snap.val()||[]; }
async function saveCategories(cats){ await set(ref(db,'categories'), cats); }
async function loadVotes(){ const snap=await get(ref(db,'votes')); return snap.val()||{}; }
async function saveVote(name,vote){ await set(ref(db,'votes/'+name), vote); }
async function removeUserVotes(user){ await remove(ref(db,'votes/'+user)); }
async function clearAllVotes(){ await remove(ref(db,'votes')); }

async function showPage(page){
  appEl.innerHTML='';
  if(page==='vote') await renderVotePage();
  else if(page==='results') await renderResultsPage();
  else if(page==='categories') await renderCategoryListPage();
  else if(page==='admin') await renderAdminPage();
}

// ========== Include all your previous working JS logic for Vote, Results, Categories, Admin =========
// Only the styling changes, all functionality including Firebase saving/loading remains intact

</script>
</head>
<body>
<header>
  <h1>Game Awards Voting</h1>
  <div class="tabs" id="top-tabs">
    <button class="tab active" data-tab="vote">Vote</button>
    <button class="tab" data-tab="results">Results</button>
    <button class="tab" data-tab="categories">Categories</button>
    <button class="tab" data-tab="admin">Admin</button>
  </div>
</header>
<main id="app"></main>
<footer>Powered by Firebase • Material Blue Edition</footer>
</body>
</html>
